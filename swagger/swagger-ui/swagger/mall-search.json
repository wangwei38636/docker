{"swagger":"2.0","info":{"description":"mall搜索相关接口文档","version":"1.0","title":"mall搜索系统","contact":{"name":"macro"}},"host":"localhost:8082","basePath":"/","tags":[{"name":"EsProductController","description":"搜索商品管理"}],"paths":{"/esProduct/create/{id}":{"post":{"tags":["EsProductController"],"summary":"根据id创建商品","operationId":"createUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«EsProduct»","originalRef":"CommonResult«EsProduct»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/delete/batch":{"post":{"tags":["EsProductController"],"summary":"根据id批量删除商品","operationId":"deleteUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"ids","in":"query","description":"ids","required":true,"type":"array","items":{"type":"integer","format":"int64"},"collectionFormat":"multi"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«object»","originalRef":"CommonResult«object»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/delete/{id}":{"get":{"tags":["EsProductController"],"summary":"根据id删除商品","operationId":"deleteUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«object»","originalRef":"CommonResult«object»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/importAll":{"post":{"tags":["EsProductController"],"summary":"导入所有数据库中商品到ES","operationId":"importAllListUsingPOST","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«int»","originalRef":"CommonResult«int»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/recommend/{id}":{"get":{"tags":["EsProductController"],"summary":"根据商品id推荐商品","operationId":"recommendUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"name":"pageNum","in":"query","description":"pageNum","required":false,"type":"integer","default":0,"format":"int32"},{"name":"pageSize","in":"query","description":"pageSize","required":false,"type":"integer","default":5,"format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«CommonPage«EsProduct»»","originalRef":"CommonResult«CommonPage«EsProduct»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/search":{"get":{"tags":["EsProductController"],"summary":"综合搜索、筛选、排序","operationId":"searchUsingGET_1","produces":["*/*"],"parameters":[{"name":"brandId","in":"query","description":"brandId","required":false,"type":"integer","format":"int64"},{"name":"keyword","in":"query","description":"keyword","required":false,"type":"string"},{"name":"pageNum","in":"query","description":"pageNum","required":false,"type":"integer","default":0,"format":"int32"},{"name":"pageSize","in":"query","description":"pageSize","required":false,"type":"integer","default":5,"format":"int32"},{"name":"productCategoryId","in":"query","description":"productCategoryId","required":false,"type":"integer","format":"int64"},{"name":"sort","in":"query","description":"排序字段:0->按相关度；1->按新品；2->按销量；3->价格从低到高；4->价格从高到低","required":false,"type":"ref","default":"0","enum":["0","1","2","3","4"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«CommonPage«EsProduct»»","originalRef":"CommonResult«CommonPage«EsProduct»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/search/relate":{"get":{"tags":["EsProductController"],"summary":"获取搜索的相关品牌、分类及筛选属性","operationId":"searchRelatedInfoUsingGET","produces":["*/*"],"parameters":[{"name":"keyword","in":"query","description":"keyword","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«EsProductRelatedInfo»","originalRef":"CommonResult«EsProductRelatedInfo»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/esProduct/search/simple":{"get":{"tags":["EsProductController"],"summary":"简单搜索","operationId":"searchUsingGET","produces":["*/*"],"parameters":[{"name":"keyword","in":"query","description":"keyword","required":false,"type":"string"},{"name":"pageNum","in":"query","description":"pageNum","required":false,"type":"integer","default":0,"format":"int32"},{"name":"pageSize","in":"query","description":"pageSize","required":false,"type":"integer","default":5,"format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonResult«CommonPage«EsProduct»»","originalRef":"CommonResult«CommonPage«EsProduct»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"CommonPage«EsProduct»":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/EsProduct","originalRef":"EsProduct"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int64"},"totalPage":{"type":"integer","format":"int32"}},"title":"CommonPage«EsProduct»"},"CommonResult«CommonPage«EsProduct»»":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"data":{"$ref":"#/definitions/CommonPage«EsProduct»","originalRef":"CommonPage«EsProduct»"},"message":{"type":"string"}},"title":"CommonResult«CommonPage«EsProduct»»"},"CommonResult«EsProductRelatedInfo»":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"data":{"$ref":"#/definitions/EsProductRelatedInfo","originalRef":"EsProductRelatedInfo"},"message":{"type":"string"}},"title":"CommonResult«EsProductRelatedInfo»"},"CommonResult«EsProduct»":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"data":{"$ref":"#/definitions/EsProduct","originalRef":"EsProduct"},"message":{"type":"string"}},"title":"CommonResult«EsProduct»"},"CommonResult«int»":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"data":{"type":"integer","format":"int32"},"message":{"type":"string"}},"title":"CommonResult«int»"},"CommonResult«object»":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"data":{"type":"object"},"message":{"type":"string"}},"title":"CommonResult«object»"},"EsProduct":{"type":"object","properties":{"attrValueList":{"type":"array","items":{"$ref":"#/definitions/EsProductAttributeValue","originalRef":"EsProductAttributeValue"}},"brandId":{"type":"integer","format":"int64"},"brandName":{"type":"string"},"id":{"type":"integer","format":"int64"},"keywords":{"type":"string"},"name":{"type":"string"},"newStatus":{"type":"integer","format":"int32"},"pic":{"type":"string"},"price":{"type":"number"},"productCategoryId":{"type":"integer","format":"int64"},"productCategoryName":{"type":"string"},"productSn":{"type":"string"},"promotionType":{"type":"integer","format":"int32"},"recommandStatus":{"type":"integer","format":"int32"},"sale":{"type":"integer","format":"int32"},"sort":{"type":"integer","format":"int32"},"stock":{"type":"integer","format":"int32"},"subTitle":{"type":"string"}},"title":"EsProduct"},"EsProductAttributeValue":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"productAttributeId":{"type":"integer","format":"int64"},"type":{"type":"integer","format":"int32"},"value":{"type":"string"}},"title":"EsProductAttributeValue"},"EsProductRelatedInfo":{"type":"object","properties":{"brandNames":{"type":"array","items":{"type":"string"}},"productAttrs":{"type":"array","items":{"$ref":"#/definitions/ProductAttr","originalRef":"ProductAttr"}},"productCategoryNames":{"type":"array","items":{"type":"string"}}},"title":"EsProductRelatedInfo"},"ProductAttr":{"type":"object","properties":{"attrId":{"type":"integer","format":"int64"},"attrName":{"type":"string"},"attrValues":{"type":"array","items":{"type":"string"}}},"title":"ProductAttr"}}}